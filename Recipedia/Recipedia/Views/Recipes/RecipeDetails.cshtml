@model Recipedia.Models.Recipe

<h2>@Model.Title</h2>

<p><strong>Category:</strong> @Model.Category</p>
<p><strong>Cook Time:</strong> @Model.CookTimeMinutes</p>
<p><strong>Difficulty:</strong> @Model.Difficulty</p>

<h3>Ingredients</h3>
<p>@Model.Ingredients</p>

<h3>Instructions</h3>
<p>@Model.Instructions</p>

<a asp-action="Index" class="btn">Back to Recipes</a>
<button type="button" class="btn btn-danger"
        data-id="@Model.Id"
        data-title="@Model.Title"
        onclick="openDeleteModal(this)">
    Delete
</button>

<!-- Delete Modal -->
<div id="deleteModal" class="modal-overlay">
    <div class="modal-content">
        <h3>Delete Recipe</h3>
        <p>Are you sure you want to delete <strong id="modalRecipeTitle"></strong>?</p>
        <div class="modal-actions">
            <button type="button" class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
            <form asp-action="DeleteRecipe" asp-controller="Recipes" method="post" style="display:inline;">
                @Html.AntiForgeryToken()
                <input type="hidden" name="id" id="modalRecipeId" />
                <button type="submit" class="btn btn-danger">Delete</button>
            </form>
        </div>
    </div>
</div>

<script>
    function openDeleteModal(element) {
        const id = element.dataset.id;
        const title = element.dataset.title;
        document.getElementById("modalRecipeId").value = id;
        document.getElementById("modalRecipeTitle").textContent = title;
        document.getElementById("deleteModal").style.display = "flex";
    }

    function closeDeleteModal() {
        document.getElementById("deleteModal").style.display = "none";
    }
</script>